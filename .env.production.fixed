# ===========================================
# TIMEKEEPER - PRODUCTION CONFIGURATION (FIXED)
# ===========================================
# Konfigurasi optimal untuk deployment VPS
# Pastikan untuk mengubah nilai sesuai dengan server Anda

# Application Settings
APP_NAME="TimeKeeper"
APP_ENV=production
APP_KEY=base64:GENERATE_NEW_KEY_WITH_php_artisan_key:generate
APP_DEBUG=false
# PERBAIKAN: Ganti dengan domain aktual production Anda
APP_URL=https://your-actual-domain.com

# Localization
APP_LOCALE=id
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=id_ID

# Maintenance & Workers
APP_MAINTENANCE_DRIVER=file

# Security
BCRYPT_ROUNDS=12

# Logging
LOG_CHANNEL=daily
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error

# Database - MySQL untuk production
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=timekeeper_prod
DB_USERNAME=timekeeper_user
DB_PASSWORD=secure_password_here

# Session - PERBAIKAN untuk production
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
# PERBAIKAN: Sesuaikan dengan domain aktual atau kosongkan untuk semua subdomain
SESSION_DOMAIN=null
# PERBAIKAN: Set false jika tidak menggunakan HTTPS, true jika menggunakan HTTPS
SESSION_SECURE_COOKIES=false
SESSION_SAME_SITE=lax

# Broadcasting & Queue - Redis untuk skalabilitas
BROADCAST_CONNECTION=redis
QUEUE_CONNECTION=redis
QUEUE_FAILED_DRIVER=database

# Cache - Redis untuk performa maksimal
CACHE_STORE=redis
CACHE_PREFIX=timekeeper_prod

# Redis Configuration - Optimal untuk production
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_DB=0

# Mail Configuration
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@your-domain.com
MAIL_FROM_NAME="${APP_NAME}"

# Storage & Filesystem
FILESYSTEM_DISK=local

# Vite Build - PENTING untuk production
VITE_APP_NAME="${APP_NAME}"

# WebSocket/Pusher (Opsional)
# PUSHER_APP_ID=
# PUSHER_APP_KEY=
# PUSHER_APP_SECRET=
# PUSHER_HOST=
# PUSHER_PORT=443
# PUSHER_SCHEME=https
# PUSHER_APP_CLUSTER=mt1

# Performance & Optimization
OPCACHE_ENABLE=1
OPCACHE_MEMORY_CONSUMPTION=256
OPCACHE_MAX_ACCELERATED_FILES=20000
OPCACHE_VALIDATE_TIMESTAMPS=0

# PHP-FPM Settings (untuk nginx/apache)
PHP_FPM_PM=dynamic
PHP_FPM_MAX_CHILDREN=50
PHP_FPM_START_SERVERS=5
PHP_FPM_MIN_SPARE_SERVERS=5
PHP_FPM_MAX_SPARE_SERVERS=35

# Security Headers
SECURE_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# CSRF Protection - PENTING untuk keamanan form
# Pastikan ini aktif di production
CSRF_PROTECTION=true